<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Bite - Organic Foods</title>
    <link rel="icon" type="image/png" href="assets/honey.png">
    
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#012340] text-white font-sans">
    <!-- Navbar -->
    <nav class="navbar" style="padding-right: 20%;">
        <h1 class="logo">
            <img src="assets/plate.png" alt="Green Bite Logo" class="logo-img">  GREEN BITE </h1>        
            <ul class="nav-links">
            <li><a href="#" class="hover:text-green-400" style="color:#04d939">Home</a></li>
            <li><a href="../profile/profile.html" class="hover:text-green-400">About Us</a></li>
            <li><a href="..//product/product.html" class="hover:text-green-400">Products</a></li>
            <li><a href="..//dealer/dealer.html" class="hover:text-green-400">Dealer</a></li>
            <li><a href="..//nitish/contact.html" class="hover:text-green-400">Contact</a></li>
            <li><a href="..//product/product.html" class="hover:text-green-400">Search</a></li>
            <li></li> 
        </ul>
        <a href="..//profile/profile.html" class="hover:text-green-400"><img src="./assets/profile.png" alt="" height="50px" width="50px" ></a>
        <!-- <button class="login-btn"><a href="..//signIn/signIn.html">Log in</a></button> -->
    </nav>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-text">
            <h2 class="enj">Enjoy <span class="highlight">Organic Foods</span> Without Leaving The House!</h2>
            <p>Welcome to GreenBite! Enjoy the freshness of farm-to-table organic foods delivered straight to your home. Our carefully sourced, chemical-free produce ensures a healthy lifestyle. Taste the goodness of nature with our premium-quality fruits, vegetables, and grains. Eat fresh, live healthy, and embrace sustainability with GreenBite today!</p>
            <div class="hero-buttons">
                <button class="green-btn"><a href="..//product/product.html">Go Green & Order</a></button>
                <button class="gray-btn"><a href="#food-cont">Explore Fresh Picks</a></button>
            </div>
        </div>
        <div class="hero-image">
            <img src="..//signIn/backgroundbowl.png" alt="Organic Food">
        </div>
    </section>
<section class="organic-foods"  id="food-cont">
    <h1 class="best">Explore Our <span class="highlight">Best Selling Products</span><span class="rating"><i class="fas fa-star"></i></span></h1>
    <p>Welcome to GreenBite! Experience the delight Of farm-fresh,
        organic goodness delivered to your doorstep. Our curated meal kits
        are crafted for wellness and sustainability,<br>nourishing your body
        and tantalizing your taste buds. <br>Join us on a journey to healthy,
        delicious living!</p>
     <section class="product">   
    <div class="food-container">
        <div class="food-card">
            <img src="..//product/images/avocado.png" alt="Avocado">
            <h3>Organic Avocado</h3>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i> <!-- Half star -->
            </div>
            
            <p class="price">₹200 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <!-- <a href="product.html?product=avocado" class="order-btn">Order Now</a> -->
        </div>
        <div class="food-card">
            <img src="..//product/images/spinach.png" alt="Spinach">
            <h3>Organic Spinach</h3>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <!-- <i class="fas fa-star-half-alt"></i> Half star -->
            </div>
            <p class="price">₹150 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <!-- <a href="product.html?product=avocado" class="order-btn">Order Now</a> -->
        </div>
        <div class="food-card">
            <img src="..//product/images/quinoa.png" alt="Quinoa">
            <h3>Organic Quinoa</h3>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <!-- <i class="fas fa-star-half-alt"></i> Half star -->
            </div>

            <p class="price">₹350 (20% Off)</p>
            
            <!-- <button class="order-btn">Order Now</button> -->
            <!-- <a href="product.html?product=avocado" class="order-btn">Order Now</a> -->
        </div>
        <div class="food-card">
            <img src="..//product/images/eggs.png" alt="Eggs">
            <h3>Organic Eggs</h3>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                 <i class="fas fa-star-half-alt"></i> 
            </div>

            <p class="price">₹300 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <!-- <a href="product.html?product=avocado" class="order-btn">Order Now</a> -->
        </div>
    </div>
    </section>
</section>

<!-- Explore Our Organic Foods -->
<section class="organic-foods">
    <div class="header-container">
        <div class="text-content">
            <h2 class="best">Explore Our <span class="highlight">Organic Foods</span></h2>
            <p>Currently, we provide a variety of beloved foods to our customers for several reasons. Our focus is on delivering quality food to ensure customer satisfaction.</p>
        </div>
        <a href="..//product/product.html" class="see-all-btn">See All Products</a>
    </div>
     <div class="food-container2">
        <div class="food-card2">
            <img src="..//product/images/avocado.png" alt="Avocado">
            <h3>Organic Avocado</h3>
            <p class="price">₹200 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/avapro.html" class="order-btn">Order Now</a>
            
        </div>
        <div class="food-card2">
            <img src="..//product/images/spinach.png" alt="Spinach">
            <h3>Organic Spinach</h3>
            <p class="price">₹150 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/spinachpro.html" class="order-btn">Order Now</a>
        </div>
        <div class="food-card2">
            <img src="..//product/images/quinoa.png" alt="Quinoa">
            <h3>Organic Quinoa</h3>
            <p class="price">₹350 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/quinoa.html" class="order-btn">Order Now</a>
        </div>
        <div class="food-card2">
            <img src="assets\honey.png" alt="Eggs">
            <h3>Organic Honey</h3>
            <p class="price">₹600 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/honeypro.html" class="order-btn">Order Now</a>
        </div>
        <div class="food-card2">
            <img src="..//product/images/eggs.png" alt="Eggs">
            <h3>Organic Eggs</h3>
            <p class="price">₹300 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/eggpro.html" class="order-btn">Order Now</a>
        </div>
        <div class="food-card2">
            <img src="..//product/images/beef.png" alt="Eggs">
            <h3>Organic Beef</h3>
            <p class="price">₹900 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/beefpro.html" class="order-btn">Order Now</a>
        </div>
        <div class="food-card2">
            <img src="..//product/images/Yogurt.png" alt="Eggs">
            <h3>Organic Yogurt</h3>
            <p class="price">₹400 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/yogurtpro.html" class="order-btn">Order Now</a>
        </div>
        <div class="food-card2">
            <img src="assets/Chicken.png" alt="Eggs">
            <h3>Organic Chicken</h3>
            <p class="price">₹600 (20% Off)</p>
            <!-- <button class="order-btn">Order Now</button> -->
            <a href="..//nitish/chicpro.html" class="order-btn">Order Now</a>
        </div>
       
    </div>
   
</section>

<!-- Customer Feedback Section -->
<section class="py-16 text-center bg-gray-900">
    <h2 class="text-3xl font-bold">Customer <span class="text-green-500">Feedbacks</span></h2>
    <div id="reviews-container" class="flex flex-wrap justify-center mt-8 gap-8">
        <!-- Reviews will be dynamically inserted here -->
    </div>
    <button id="load-more" class="bg-green-500 px-6 py-2 rounded-lg mt-4 text-white">More Feedback</button>
</section>

<!-- Review Submission Section -->
<section class="py-16 text-center bg-gray-900">
    <h2 class="text-3xl font-bold">Submit Your <span class="text-green-500">Feedback</span></h2>
    <form id="review-form" class="mt-8 max-w-md mx-auto bg-gray-800 p-6 rounded-lg">
        <textarea id="review-text" class="w-full p-4 text-black rounded-md" rows="4" placeholder="Write your review..."></textarea>
        <input type="text" id="reviewer-name" class="w-full p-4 text-black rounded-md mt-4" placeholder="Your name" />
        <button type="submit" class="bg-green-500 px-6 py-2 rounded-lg mt-4 text-white">Submit Review</button>
    </form>
</section>

<!-- Include Supabase JS -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

<!-- JavaScript for Reviews -->
<script>
    // Initialize Supabase client
    const supabase = window.supabase.createClient(
        'https://osovrtrhscypfwwyqhrq.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zb3ZydHJoc2N5cGZ3d3lxaHJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkxNzg2NjUsImV4cCI6MjA1NDc1NDY2NX0.KlmPgisE1dzPpBN_DARadjUw0BV1FhLkOBIPFcqQx_I'
    );

    // Global variables for review management
    let allReviews = [];
    let reviewsDisplayed = 0;
    const reviewsPerPage = 4;

    // Function to fetch reviews from Supabase
    async function fetchReviews() {
        try {
            const { data, error } = await supabase
                .from('reviews')
                .select('*')
                .order('created_at', { ascending: false });

            if (error) throw error;

            allReviews = data;
            reviewsDisplayed = 0;
            const reviewsContainer = document.getElementById('reviews-container');
            reviewsContainer.innerHTML = ''; // Clear existing reviews
            displayReviews();
        } catch (error) {
            console.error('Error fetching reviews:', error);
        }
    }

    // Function to display reviews
    function displayReviews() {
        const reviewsContainer = document.getElementById('reviews-container');
        const loadMoreButton = document.getElementById('load-more');

        // Calculate how many new reviews to display
        const endIndex = Math.min(reviewsDisplayed + reviewsPerPage, allReviews.length);
        
        // Display the next batch of reviews
        for (let i = reviewsDisplayed; i < endIndex; i++) {
            const review = allReviews[i];
            const reviewElement = document.createElement('div');
            reviewElement.classList.add('bg-gray-800', 'p-6', 'rounded-lg', 'w-80', 'text-white');
            reviewElement.innerHTML = `
                <p>"${review.review_text}"</p>
                <h4 class="text-green-400 font-bold mt-2">- ${review.reviewer_name}</h4>
            `;
            reviewsContainer.appendChild(reviewElement);
        }

        reviewsDisplayed = endIndex;

        // Show/hide "More Feedback" button
        loadMoreButton.style.display = reviewsDisplayed >= allReviews.length ? 'none' : 'inline-block';
    }

    // Handle review form submission
    async function submitReview(event) {
        event.preventDefault();

        const reviewText = document.getElementById('review-text').value;
        const reviewerName = document.getElementById('reviewer-name').value;

        if (!reviewText || !reviewerName) {
            alert("Please fill in both fields.");
            return;
        }

        try {
            const { error } = await supabase
                .from('reviews')
                .insert([{ review_text: reviewText, reviewer_name: reviewerName }]);

            if (error) throw error;

            // Clear form fields
            document.getElementById('review-text').value = '';
            document.getElementById('reviewer-name').value = '';
            
            // Refresh reviews
            await fetchReviews();
            alert("Review submitted successfully!");
        } catch (error) {
            console.error("Error submitting review:", error);
            alert("Error submitting review. Please try again.");
        }
    }

    // Add event listeners
    document.addEventListener('DOMContentLoaded', () => {
        fetchReviews();
        document.getElementById('load-more').addEventListener('click', displayReviews);
        document.getElementById('review-form').addEventListener('submit', submitReview);
    });
</script>

    <!-- Review Submission Section -->
    <!-- <section class="py-16 text-center bg-gray-900">
        <h2 class="text-3xl font-bold">Submit Your <span class="text-green-500">Feedback</span></h2>
        <form id="review-form" class="mt-8 max-w-md mx-auto bg-gray-800 p-6 rounded-lg">
            <textarea id="review-text" class="w-full p-4 text-black rounded-md" rows="4" placeholder="Write your review..."></textarea>
            <input type="text" id="reviewer-name" class="w-full p-4 text-black rounded-md mt-4" placeholder="Your name" />
            <button type="submit" class="bg-green-500 px-6 py-2 rounded-lg mt-4 text-white">Submit Review</button>
        </form>
    </section> -->

    <!-- JavaScript to handle review submission and display -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script>
        const supabase = window.supabase.createClient(
            'https://osovrtrhscypfwwyqhrq.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zb3ZydHJoc2N5cGZ3d3lxaHJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkxNzg2NjUsImV4cCI6MjA1NDc1NDY2NX0.KlmPgisE1dzPpBN_DARadjUw0BV1FhLkOBIPFcqQx_I'
        );

        // Function to fetch reviews from Supabase and display them
        async function fetchReviews() {
    // Get reviews from Supabase
    const { data, error } = await supabase
        .from('reviews')
        .select('*')
        .order('created_at', { ascending: false });  // Optional, sorts reviews by most recent

    if (error) {
        console.error('Error fetching reviews:', error);
        return;
    }

    // Display reviews
    const reviewsContainer = document.getElementById('reviews-container');
    reviewsContainer.innerHTML = '';  // Clear any existing reviews

    // Loop through the data and create elements for each review
    data.forEach(review => {
        const reviewElement = document.createElement('div');
        reviewElement.classList.add('bg-gray-800', 'p-6', 'rounded-lg', 'w-80', 'text-white');
        reviewElement.innerHTML = `
            <p>"${review.review_text}"</p>
            <h4 class="text-green-400 font-bold mt-2">- ${review.reviewer_name}</h4>
        `;
        
        reviewsContainer.appendChild(reviewElement);
    });
}

// Fetch reviews when the page loads
document.addEventListener('DOMContentLoaded', fetchReviews);


        // Fetch reviews when the page loads
        window.onload = fetchReviews;

        // Handle review form submission
        document.getElementById('review-form').addEventListener('submit', async function(event) {
            event.preventDefault();

            const reviewText = document.getElementById('review-text').value;
            const reviewerName = document.getElementById('reviewer-name').value;

            if (reviewText && reviewerName) {
                try {
                    // Insert review into Supabase
                    const { data, error } = await supabase
                        .from('reviews')
                        .insert([{ review_text: reviewText, reviewer_name: reviewerName }]);

                    if (error) throw error;

                    // Clear form fields and update reviews list
                    document.getElementById('review-text').value = '';
                    document.getElementById('reviewer-name').value = '';
                    fetchReviews(); // Fetch and display updated reviews
                    alert("Review submitted successfully!");
                } catch (error) {
                    console.error("Error submitting review:", error);
                }
            } else {
                alert("Please fill in both fields.");
            }
        });
    </script>

    <!-- Footer -->
    <!-- Footer -->
    <footer class="footer">
        <section id="about-us" class="about-us">
            <div class="footer-container">
                <div class="footer-section about">
                    <h2><span class="green">GREEN</span> BITE</h2>
                    <p>Explore GreenBite - Your Gateway to Fresh, Organic Goodness! 🌱 Indulge in curated meal kits, sustainably crafted for wellness. Join us on the journey to a healthier, tastier lifestyle.</p>
                    <div class="social-icons">
                        <a href="#">G+</a>
                        <a href="#">&#x1F426;</a>
                        <a href="#">in</a>
                        <a href="#">f</a>
                    </div>
                </div>
                <div class="footer-section links">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="..//product/product.html">Product</a></li>
                        <li><a href="..//dealer/dealer.html">Dealer</a></li>
                    </ul>
                </div>
                <div class="footer-section help">
                    <h3>Help</h3>
                    <ul>
                        <li><a href="..//nitish/contact.html">Contact Us</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-section app">
                    <h3>Install App</h3>
                <ul>
                  <li>  <a href="https://www.apple.com/app-store/"><img src="..//home/assets/appstore.png" alt="Download on the App Store" ></a></li>
                   <li> <a href="https://play.google.com/store/games?device=windows"><img src="..//home/assets/google.png" alt="Get it on Google Play" ></a></li>
                </ul>  
                </div>
            </div>
            <h2>About Us</h2>
            <p>We are committed to delivering fresh, organic foods...</p>
        </section>
        <p>&copy; 2025 Green Bite. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    
</body>
</html>
